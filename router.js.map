{"version":3,"file":"router.js","sources":["router.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","window","jQuery",2,"finalPath","Url","$","supports","pushStateSupported","history","pushState","hashChangeSupported","Path","options","iframe","routes","current","defined","listened","match","pattern","source","matches","reg","ret","patterns","pattUrl","removeHash","srcUrl","getPath","getUrl","exec","push","key","regexp","RegExp","test","$1","execute","path","refresh","route","currentUrl","getCurrentLocation","action","defaultAction","dispatch","setHash","extend","this","init","opts","location","href","replace","protocol","host","hash","map","Route","nav","charAt","document","open","close","updateParams","params","mergeParam","listen","fn","locationData","hashlessUrl","onpopstate","getHash","onhashchange","createElement","src","tabindex","style","display","body","appendChild","contentWindow","setInterval","prototype","to","end","singletonRouter","apply","arguments","SimpleRouter","./$","./url",3,"url","undefined","String","constructor","TypeError","handleHash","doRemove","hashLoc","indexOf","slice","handlePathSearch","getSearch","shadow","clone","askLoc","split","str","eqLoc","search","searchArray","each","idx","pair","setUrl","newUrl","splited","searchStr","newSearch","val","join"],"mappings":"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"}