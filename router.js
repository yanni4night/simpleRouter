!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){b.exports=window.jQuery},{}],2:[function(a,b,c){var d,e=a("./url"),f=a("./$"),g={pushStateSupported:!!window.history.pushState,hashChangeSupported:"onhashchange"in window},h=function(){var a,b,c={current:null,defined:{}},i=!1,j=function(a,b){var c,d=/(\w+)=:\1/g,f={},g=[],h=new e(a);h.removeHash();var i=new e(b);if(i.removeHash(),h.getPath()!==i.getPath())return!1;for(a=h.getUrl(),b=i.getUrl();c=d.exec(a);)g.push(c[1]);for(var j=g.length-1;j>=0;j--){var k=g[j],l=new RegExp(k+"=([^?/\\&#]*)");l.test(b)&&(f[k]=RegExp.$1)}return f},k=function(b,d){var f,g;if(""===b){var h=new e(a.getCurrentLocation());h.removeHash(),b=h.getUrl()}for(var i in c.defined)if(f=c.defined[i],g=j(f.path,b))return void f.action.call(f,g,d);"function"==typeof a.defaultAction&&a.defaultAction.call(null,b,d)},l=function(b){b!==c.current&&(c.current=b,g.hashChangeSupported||a.setHash(b),k(b))};f.extend(!0,this,{init:function(b){return a=f.extend(!0,{getCurrentLocation:function(){return window.location.href.replace(location.protocol+"://"+location.host,"")},setHash:function(a){window.location.hash=a}},b),d},map:function(a){return c.defined[a]||(c.defined[a]=new h.Route(a)),c.defined[a]},nav:function(c){return i?("/"!==c.charAt(0)&&(c="/"+c),g.pushStateSupported?(window.history.pushState(null,null,c),l(c)):g.hashChangeSupported?a.setHash(c):(b.document.open().close(),b.location.hash=c),this):void 0},updateParams:function(a){var b=new e(c.current);return b.mergeParam(a),this.nav(b.getUrl()),this},listen:function(){if(i)return this;var d,f,h;if(g.pushStateSupported){var j=function(){return h=new e(a.getCurrentLocation()),h.removeHash(),h.getUrl()};d=function(){l(j())},f=j(),window.onpopstate=d}else f=new e(a.getCurrentLocation()).getHash(),g.hashChangeSupported?(d=function(){h=new e(a.getCurrentLocation()),l(h.getHash())},window.onhashchange=d):(d=function(){l(new e(b.location).getHash())},b=document.createElement("iframe"),b.src="about:blank",b.tabindex=-1,b.style.display="none",document.body.appendChild(b),b=b.contentWindow,b.document.open().close(),b.location.hash=new e(b.location).getHash(),setInterval(d,50)),""!==f&&d();return c.current=f,i=!0,this}})};f.extend(h,{Route:function(a){this.action=null,this.path=a}}),h.Route.prototype={to:function(a){return this.action=a,this},end:function(){return d}};var i=new h;d=function(){return i.init.apply(this,arguments)},f.extend(!0,d,i),window.SimpleRouter=d},{"./$":1,"./url":3}],3:[function(a,b,c){var d=a("./$"),e=function(a){if(null===a||void 0===a||String!==a.constructor)throw new TypeError('"url" must be a string.');var b=function(b){var c=a.indexOf("#");return 0>c?"":b?a=a.slice(0,c):a.slice(c+1)},c=function(a){var b=this.clone();b.removeHash();var c=b.getUrl().indexOf("?");return a?0>c?"":b.getUrl().slice(c+1):0>c?b.getUrl():b.getUrl().slice(0,c)},f=function(a){var b,c={},e=a.split("&");return d.each(e,function(a,d){-1!==(b=d.indexOf("="))&&(c[d.slice(0,b)]=d.slice(b+1))}),c};d.extend(!0,this,{setUrl:function(b){return a=b},getUrl:function(){return a},getHash:function(){return b.call(this)},removeHash:function(){return b.call(this,!0)},getPath:function(){return c.call(this)},getSearch:function(a){var b=c.call(this,!0);return a?f(b):b},clone:function(){return new e(a)},mergeParam:function(b){var c=d.extend(this.getSearch(!0),b),e=[],f=this.getHash();return d.each(c,function(a,b){e.push(a+"="+b)}),a=this.getPath()+"?"+e.join("&")+(f?"#"+f:""),this}})};b.exports=e},{"./$":1}]},{},[1,2,3]);
//# sourceMappingURL=router.js.map